
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Career Pathfinder</title>
  <meta name="description" content="Discover your perfect career path with smart, adaptive questions and personalized results.">
  <meta name="theme-color" content="#2575fc">

  <!-- Chart.js CDN for Radar Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f7fa;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      line-height: 1.6;
    }

    body.dark-mode {
      background-color: #121212;
      color: #eee;
    }

    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      color: white;
      z-index: 10;
    }

    .navbar button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      padding: 0.5rem;
      border-radius: 5px;
      transition: background 0.3s;
    }

    .navbar button:hover {
      background: rgba(255,255,255,0.2);
    }

    /* Main Content */
    #content-container {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* Hero */
    .hero {
      text-align: center;
      padding: 4rem 2rem;
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      color: white;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .animated-text {
      font-size: 2.5rem;
      opacity: 0;
      animation: fadeIn 2s forwards;
      margin-bottom: 1rem;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .btn {
      margin-top: 1.5rem;
      padding: 0.8rem 1.5rem;
      background-color: white;
      color: #2575fc;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    /* Form */
    .form-container {
      max-width: 600px;
      width: 90%;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      flex: 1;
    }

    body.dark-mode .form-container {
      background: #1f1f1f;
      color: #fff;
    }

    .progress-bar {
      width: 100%;
      background: #ddd;
      height: 8px;
      border-radius: 4px;
      margin-bottom: 1.5rem;
    }

    body.dark-mode .progress-bar {
      background: #444;
    }

    .progress {
      height: 100%;
      background-color: #2575fc;
      border-radius: 4px;
      transition: width 0.4s;
    }

    .step {
      display: none;
    }

    .step.active {
      display: block;
      animation: fadeIn 0.5s ease-out;
    }

    form label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }

    form input, form select, form textarea {
      width: 100%;
      padding: 0.7rem;
      margin-bottom: 0.5rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      background: #fff;
      color: #333;
      font-size: 1rem;
      transition: border 0.3s, box-shadow 0.3s;
    }

    form input:focus, form select:focus, form textarea:focus {
      outline: none;
      border-color: #2575fc;
      box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
    }

    body.dark-mode form input,
    body.dark-mode form select,
    body.dark-mode form textarea {
      background: #333;
      border: 1px solid #555;
      color: #fff;
    }

    body.dark-mode form input:focus,
    body.dark-mode form select:focus,
    body.dark-mode form textarea:focus {
      border-color: #6a11cb;
      box-shadow: 0 0 0 3px rgba(106, 17, 203, 0.3);
    }

    .feedback {
      font-size: 0.85rem;
      margin-bottom: 0.8rem;
      padding: 0.4rem;
      border-radius: 5px;
      display: none;
    }

    .feedback.success { background: #e6ffed; color: #276b47; border: 1px solid #c6eccf; display: block; }
    .feedback.warning { background: #fff4e6; color: #995300; border: 1px solid #ffd899; display: block; }
    .feedback.error { background: #ffe6e6; color: #a60000; border: 1px solid #ffcccc; display: block; }

    .conditional-question {
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .shake {
      animation: shake 0.5s;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-5px); }
      40%, 80% { transform: translateX(5px); }
    }

    /* Result */
    .result-container {
      max-width: 700px;
      width: 90%;
      margin: 2rem auto;
      padding: 2rem;
      text-align: center;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
      flex: 1;
    }

    body.dark-mode .result-container {
      background: #1f1f1f;
      color: #fff;
    }

    .suggestion-card {
      margin-top: 1.5rem;
      padding: 1.5rem;
      background: #f0f4ff;
      border-radius: 8px;
      animation: fadeInCard 1s ease-out;
    }

    body.dark-mode .suggestion-card {
      background: #2a2a2a;
    }

    @keyframes fadeInCard {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .typewriter {
      overflow: hidden;
      border-right: 2px solid #2575fc;
      white-space: nowrap;
      margin: 0.5rem 0;
      animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #2575fc; }
    }

    .chart-container {
      margin: 1.5rem auto;
      height: 300px;
      max-width: 400px;
    }

    .alternate-suggestions {
      margin-top: 1.5rem;
      padding: 1rem;
      background: #f8f9ff;
      border-radius: 8px;
      font-size: 0.95rem;
    }

    body.dark-mode .alternate-suggestions {
      background: #2a2a2a;
    }

    .feedback-buttons {
      margin-top: 1.5rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    .feedback-btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      transition: transform 0.2s;
    }

    .feedback-btn:hover {
      transform: scale(1.1);
    }

    .feedback-btn.yes { background: #4CAF50; color: white; }
    .feedback-btn.no { background: #f44336; color: white; }

    .actions {
      margin-top: 1.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }

    .actions button, .actions a {
      padding: 0.6rem 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9rem;
      text-decoration: none;
      color: white;
      background: #2575fc;
      transition: all 0.3s;
    }

    .actions button:hover, .actions a:hover {
      transform: translateY(-2px);
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }

    /* Confetti */
    .confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    .confetti-piece {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      animation: fall 5s linear forwards;
      top: -20px;
    }

    .confetti-piece:nth-child(2n) { background-color: #0f0; }
    .confetti-piece:nth-child(3n) { background-color: #00f; }
    .confetti-piece:nth-child(4n) { background-color: #ff0; }
    .confetti-piece:nth-child(5n) { background-color: #0ff; }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 1rem;
      background: #eee;
      color: #555;
      margin-top: auto;
      flex-shrink: 0;
    }

    body.dark-mode .footer {
      background: #111;
      color: #aaa;
    }

    /* Navigation styles */
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
    }

    .nav-buttons button {
      margin: 0;
    }

    /* Question group styling */
    .question-group {
      margin-bottom: 1.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid #eee;
    }

    body.dark-mode .question-group {
      border-bottom: 1px solid #333;
    }

    .question-group:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .animated-text { font-size: 2rem; }
      .hero { padding: 2rem 1rem; }
      .form-container, .result-container { width: 95%; padding: 1.5rem; }
      .navbar { padding: 1rem; }
      .chart-container { max-width: 100%; }
    }

    @media (max-width: 480px) {
      .animated-text { font-size: 1.5rem; }
      .hero { padding: 1.5rem 0.5rem; }
      .btn { padding: 0.6rem 1rem; font-size: 0.9rem; }
      form button { padding: 0.6rem 1rem; font-size: 0.9rem; width: 100%; margin-bottom: 0.5rem; }
      .nav-buttons { flex-direction: column; gap: 0.5rem; }
    }
  </style>
</head>
<body class="light-mode">

  <!-- Navbar -->
  <nav class="navbar">
    <h2>Career Pathfinder</h2>
    <button id="darkModeToggle">üåô Dark Mode</button>
  </nav>

  <!-- Main Content -->
  <div id="content-container">
    <!-- Landing Page -->
    <section id="landing-page" class="hero">
      <h1 class="animated-text">Discover Your Perfect Career Path</h1>
      <p>Let us guide you towards a fulfilling career based on your interests, strengths, and goals.</p>
      <button class="btn" onclick="showForm()">Get Started</button>
    </section>

    <!-- Form Page -->
    <section id="form-page" class="form-container" style="display: none;">
      <h2>Tell Us About Yourself</h2>
      <div class="progress-bar">
        <div class="progress" id="progress"></div>
      </div>
      <form id="careerForm">
        <!-- Step 1 -->
        <div class="step active" id="step1">
          <div class="question-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" required placeholder="Enter your full name" />
            <div class="feedback" id="nameFeedback"></div>
          </div>

          <div class="question-group">
            <label for="education">Education Level</label>
            <select id="education" required>
              <option value="">Select your education level</option>
              <option value="10th">10th</option>
              <option value="12th">12th</option>
              <option value="Diploma">Diploma</option>
              <option value="B.Tech">B.Tech</option>
              <option value="B.Sc">B.Sc</option>
              <option value="M.Tech">M.Tech</option>
              <option value="MBA">MBA</option>
              <option value="BBA">BBA</option>
              <option value="Arts">Arts</option>
              <option value="Medical">Medical</option>
            </select>
            <div class="feedback" id="educationFeedback"></div>
          </div>

          <div class="question-group">
            <label for="branch">Branch / Field of Study</label>
            <input type="text" id="branch" required placeholder="e.g. Computer Science, Business, etc." />
            <div class="feedback" id="branchFeedback"></div>
          </div>

          <div class="nav-buttons">
            <div></div>
            <button type="button" onclick="nextStep(2)">Next</button>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="step" id="step2">
          <div class="question-group">
            <label for="hobbies">Hobbies / Interests</label>
            <textarea id="hobbies" placeholder="e.g. coding, reading, designing..." required></textarea>
            <div class="feedback" id="hobbiesFeedback"></div>
          </div>

          <div class="question-group">
            <label for="workStyle">Preferred Work Style</label>
            <select id="workStyle" required>
              <option value="">Select your preferred work style</option>
              <option value="Remote">Remote</option>
              <option value="Office">Office</option>
              <option value="Freelance">Freelance</option>
            </select>
          </div>

          <div class="question-group">
            <label for="strength">Favorite Subject or Strength</label>
            <input type="text" id="strength" required placeholder="e.g. Mathematics, Communication, etc." />
            <div class="feedback" id="strengthFeedback"></div>
          </div>

          <!-- Conditional Questions -->
          <div id="codingQ" class="question-group conditional-question" style="display: none;">
            <label for="languages">Which programming languages do you know?</label>
            <input type="text" id="languages" placeholder="e.g. Python, JavaScript" />
          </div>

          <div id="designQ" class="question-group conditional-question" style="display: none;">
            <label for="designTools">Which design tools do you use?</label>
            <input type="text" id="designTools" placeholder="e.g. Figma, Photoshop" />
          </div>

          <div id="writingQ" class="question-group conditional-question" style="display: none;">
            <label for="writingStyle">Preferred writing style?</label>
            <input type="text" id="writingStyle" placeholder="e.g. Creative, Technical, Blogging" />
          </div>

          <div class="nav-buttons">
            <button type="button" onclick="prevStep(1)">Back</button>
            <button type="submit">Get Career Suggestion</button>
          </div>
        </div>
      </form>
    </section>

    <!-- Result Page -->
    <section id="result-page" class="result-container" style="display: none;">
      <div id="confetti"></div>
      <h2 id="greeting" class="typewriter"></h2>
      <div class="suggestion-card">
        <h3 id="jobTitle" class="typewriter"></h3>
        <p id="salary" class="typewriter"></p>
        <p id="description"></p>
        <p id="whyJob"></p>

        <div class="chart-container">
          <canvas id="careerChart"></canvas>
        </div>

        <div class="alternate-suggestions">
          <h4>You might also consider:</h4>
          <p id="alternates">Loading...</p>
        </div>

        <div class="feedback-buttons">
          <button class="feedback-btn yes" onclick="submitFeedback('yes')">üëç Helpful</button>
          <button class="feedback-btn no" onclick="submitFeedback('no')">üëé Not Helpful</button>
        </div>

        <div class="actions">
          <button onclick="showForm()">Edit Answers</button>
          <a href="#" id="shareBtn">Share Result</a>
          <a href="#" id="downloadBadge">Get Career Badge</a>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; 2025 Career Pathfinder. All rights reserved.</p>
  </footer>

  <script>
    // Initialize Chart variable
    let careerChart = null;

    // Page Navigation
    function showLanding() {
      document.getElementById('landing-page').style.display = 'flex';
      document.getElementById('form-page').style.display = 'none';
      document.getElementById('result-page').style.display = 'none';
    }

    function showForm() {
      document.getElementById('landing-page').style.display = 'none';
      document.getElementById('form-page').style.display = 'block';
      document.getElementById('result-page').style.display = 'none';
      restoreFormData();
      updateProgress(1);
    }

    function showResult() {
      document.getElementById('landing-page').style.display = 'none';
      document.getElementById('form-page').style.display = 'none';
      document.getElementById('result-page').style.display = 'block';

      const userData = JSON.parse(sessionStorage.getItem('userData'));
      if (!userData) {
        showForm();
        return;
      }

      displayResults(userData);
      generateRadarChart(userData);
      createShareLinks(userData);
      addConfetti();
    }

    // Save form data to sessionStorage
    function saveFormData() {
      const data = {
        name: document.getElementById('name').value,
        education: document.getElementById('education').value,
        branch: document.getElementById('branch').value,
        hobbies: document.getElementById('hobbies').value,
        workStyle: document.getElementById('workStyle').value,
        strength: document.getElementById('strength').value,
        languages: document.getElementById('languages').value,
        designTools: document.getElementById('designTools').value,
        writingStyle: document.getElementById('writingStyle').value
      };
      sessionStorage.setItem('partialData', JSON.stringify(data));
    }

    // Restore form data from sessionStorage
    function restoreFormData() {
      const saved = JSON.parse(sessionStorage.getItem('partialData'));
      if (!saved) return;

      Object.keys(saved).forEach(id => {
        const el = document.getElementById(id);
        if (el) el.value = saved[id];
      });

      // Re-trigger conditional questions
      setTimeout(() => checkConditionalQuestions(), 300);
    }

    // Conditional Questions Logic
    function checkConditionalQuestions() {
      const hobbies = document.getElementById('hobbies').value.toLowerCase();

      document.getElementById('codingQ').style.display = hobbies.includes('coding') ? 'block' : 'none';
      document.getElementById('designQ').style.display = hobbies.includes('design') ? 'block' : 'none';
      document.getElementById('writingQ').style.display = (hobbies.includes('writing') || hobbies.includes('write')) ? 'block' : 'none';
    }

    // Live Feedback & Validation
    document.addEventListener('input', function(e) {
      const el = e.target;
      const val = el.value.trim();
      const feedbackId = el.id + 'Feedback';
      const feedback = document.getElementById(feedbackId);

      if (!feedback) return;

      if (val === '') {
        feedback.className = 'feedback';
        return;
      }

      if (el.id === 'name') {
        if (val.length < 2) {
          feedback.textContent = 'Name should be at least 2 characters.';
          feedback.className = 'feedback error';
        } else {
          feedback.textContent = 'Nice name! üëã';
          feedback.className = 'feedback success';
        }
      } else if (el.id === 'hobbies') {
        const hobbyCount = val.split(',').length;
        if (hobbyCount > 5) {
          feedback.textContent = 'Too many hobbies! Try 3‚Äì5 main ones.';
          feedback.className = 'feedback warning';
        } else {
          feedback.textContent = 'Great interests!';
          feedback.className = 'feedback success';
        }
        checkConditionalQuestions();
      } else if (el.id === 'strength') {
        if (val.length < 3) {
          feedback.textContent = 'Please specify your strength.';
          feedback.className = 'feedback error';
        } else {
          feedback.textContent = 'Strong preference! üí™';
          feedback.className = 'feedback success';
        }
      }

      saveFormData();
    });

    // Form Steps
    function nextStep(step) {
      const current = document.querySelector('.step.active');
      const inputs = current.querySelectorAll('input, select, textarea');
      let valid = true;

      inputs.forEach(input => {
        if (input.hasAttribute('required') && !input.value.trim()) {
          input.classList.add('shake');
          setTimeout(() => input.classList.remove('shake'), 500);
          valid = false;
        }
      });

      if (!valid) return;

      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById(`step${step}`).classList.add('active');
      updateProgress(step);
    }

    function prevStep(step) {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById(`step${step}`).classList.add('active');
      updateProgress(step);
    }

    function updateProgress(step) {
      const progress = document.getElementById('progress');
      progress.style.width = `${(step - 1) * 50}%`;
    }

    // Career Suggestions Logic
    function getCareerSuggestion(data) {
      const { education, branch, hobbies, strength, languages } = data;
      let title, salary, description, why, alternates = [];

      if (hobbies.includes('coding') && (education.includes('B.Tech') || education.includes('B.Sc')) && languages) {
        title = 'Software Developer';
        salary = '4,00,000‚Äì8,00,000';
        description = 'Designs and builds software applications using modern programming languages.';
        why = `You're into coding, studying ${branch}, and know ${languages} ‚Äî perfect for software development!`;
        alternates = ['Web Developer', 'Data Scientist', 'DevOps Engineer'];
      } else if (hobbies.includes('design') && (education.includes('Arts') || branch.includes('design'))) {
        title = 'Graphic Designer';
        salary = '2,50,000‚Äì5,00,000';
        description = 'Creates visual concepts using digital tools to communicate ideas and brands.';
        why = 'Your passion for design and creative field aligns perfectly with this role.';
        alternates = ['UI/UX Designer', 'Art Director', 'Freelance Illustrator'];
      } else if (hobbies.includes('writing') || strength.includes('english') || strength.includes('communication')) {
        title = 'Content Writer';
        salary = '2,00,000‚Äì4,50,000';
        description = 'Writes engaging content for blogs, websites, and marketing campaigns.';
        why = 'Your strength in communication makes you a great fit for content creation.';
        alternates = ['Copywriter', 'Editor', 'Blogger'];
      } else if (education === 'MBA' || education === 'BBA') {
        title = 'Business Analyst';
        salary = '5,00,000‚Äì9,00,000';
        description = 'Analyzes business data to improve efficiency and guide strategic decisions.';
        why = `With a ${education} background, you're well-suited for analytical business roles.`;
        alternates = ['Marketing Manager', 'HR Executive', 'Project Manager'];
      } else if (branch.includes('medical') || education === 'Medical') {
        title = 'Medical Professional';
        salary = '5,00,000‚Äì12,00,000+';
        description = 'Work in healthcare as a doctor, nurse, or researcher to save lives.';
        why = 'Your medical background gives you a strong foundation in healthcare.';
        alternates = ['Medical Writer', 'Healthcare Consultant', 'Pharmacist'];
      } else if (strength.includes('math') || strength.includes('data')) {
        title = 'Data Analyst';
        salary = '3,50,000‚Äì6,50,000';
        description = 'Interprets complex data to help organizations make smart decisions.';
        why = 'Your strength in math/data analysis opens doors in tech and finance.';
        alternates = ['Statistician', 'Business Intelligence Analyst', 'Financial Analyst'];
      } else {
        title = 'Freelancer / Consultant';
        salary = 'Varies';
        description = 'Work independently in your area of expertise. Build your own brand.';
        why = 'Your diverse interests suggest flexibility and independence.';
        alternates = ['Digital Marketer', 'Online Tutor', 'Social Media Manager'];
      }

      return { title, salary, description, why, alternates };
    }

    // Display Results with Typewriter Effect
    function displayResults(data) {
      const userData = { ...data };
      const suggestion = getCareerSuggestion(userData);

      document.getElementById('greeting').textContent = '';
      typeText(`Congrats, ${userData.name}!`, document.getElementById('greeting'), () => {
        document.getElementById('jobTitle').textContent = '';
        typeText(suggestion.title, document.getElementById('jobTitle'), () => {
          document.getElementById('salary').textContent = '';
          typeText(`Salary: ‚Çπ${suggestion.salary}`, document.getElementById('salary'), () => {
            document.getElementById('description').textContent = suggestion.description;
            document.getElementById('whyJob').textContent = `üí° Why this job? ${suggestion.why}`;
            document.getElementById('alternates').textContent = suggestion.alternates.join(', ');
          });
        });
      });
    }

    function typeText(text, el, callback) {
      let i = 0;
      el.textContent = '';
      const timer = setInterval(() => {
        if (i < text.length) {
          el.textContent += text.charAt(i);
          i++;
        } else {
          clearInterval(timer);
          if (callback) callback();
        }
      }, 50);
    }

    // Radar Chart
    function generateRadarChart(data) {
      const ctx = document.getElementById('careerChart').getContext('2d');
      if (careerChart) careerChart.destroy();

      const score = (str) => str.length > 3 ? 5 : 3;
      const labels = ['Education', 'Hobbies', 'Strength', 'Work Style'];
      const values = [
        data.education ? 5 : 3,
        data.hobbies.split(',').length * 1.2,
        score(data.strength),
        data.workStyle ? 4 : 3
      ];

      careerChart = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: labels,
          datasets: [{
            label: 'Career Fit Score',
            data: values,
            backgroundColor: 'rgba(37, 117, 252, 0.2)',
            borderColor: '#2575fc',
            pointBackgroundColor: '#6a11cb'
          }]
        },
        options: {
          scale: { ticks: { beginAtZero: true, max: 6 } },
          plugins: { legend: { display: false } }
        }
      });
    }

    // Share & Badge
    function createShareLinks(data) {
      const suggestion = getCareerSuggestion(data);
      const text = `I'm recommended for: ${suggestion.title}! Try Career Pathfinder.`;
      const url = encodeURIComponent(window.location.href);
      document.getElementById('shareBtn').href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${url}`;

      const canvas = document.createElement('canvas');
      canvas.width = 400;
      canvas.height = 200;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = '#2575fc'; ctx.fillRect(0, 0, 400, 200);
      ctx.fillStyle = 'white'; ctx.font = '20px Segoe UI'; ctx.fillText('Career Pathfinder Badge', 50, 50);
      ctx.fillText(`Recommended Role: ${suggestion.title}`, 50, 100);
      ctx.fillText(`By: ${data.name}`, 50, 150);
      document.getElementById('downloadBadge').href = canvas.toDataURL('image/png');
      document.getElementById('downloadBadge').download = 'career-badge.png';
    }

    // Confetti
    function addConfetti() {
      const confetti = document.getElementById('confetti');
      confetti.innerHTML = '';
      for (let i = 0; i < 100; i++) {
        const piece = document.createElement('div');
        piece.classList.add('confetti-piece');
        piece.style.left = Math.random() * 100 + 'vw';
        piece.style.animationDuration = (Math.random() * 3 + 2) + 's';
        piece.style.opacity = Math.random();
        confetti.appendChild(piece);
      }
    }

    // Feedback
    function submitFeedback(response) {
      console.log('User feedback:', response);
      alert(`Thanks for your feedback! (${response})`);
    }

    // Dark Mode
    document.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById('darkModeToggle');
      const body = document.body;

      if (localStorage.getItem('darkMode') === 'enabled') {
        body.classList.add('dark-mode');
        toggle.textContent = '‚òÄÔ∏è Light Mode';
      }

      toggle.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        if (body.classList.contains('dark-mode')) {
          localStorage.setItem('darkMode', 'enabled');
          toggle.textContent = '‚òÄÔ∏è Light Mode';
        } else {
          localStorage.setItem('darkMode', 'disabled');
          toggle.textContent = 'üåô Dark Mode';
        }
      });

      // Form Handling
      const form = document.getElementById('careerForm');
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        saveFormData();

        const data = {
          name: document.getElementById('name').value,
          education: document.getElementById('education').value,
          branch: document.getElementById('branch').value,
          hobbies: document.getElementById('hobbies').value.toLowerCase(),
          workStyle: document.getElementById('workStyle').value,
          strength: document.getElementById('strength').value.toLowerCase(),
          languages: document.getElementById('languages').value,
          designTools: document.getElementById('designTools').value,
          writingStyle: document.getElementById('writingStyle').value
        };

        sessionStorage.setItem('userData', JSON.stringify(data));
        showResult();
      });

      if (window.location.hash === '#result') {
        showResult();
      }
    });
  </script>
</body>
</html>
